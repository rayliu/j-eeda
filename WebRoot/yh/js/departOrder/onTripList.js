$(document).ready(function() {    $('#menu_status').addClass('active').find('ul').addClass('in');    	//datatable, 动态处理    var detailTable = $('#eeda-table').dataTable({        "bFilter": false, //不需要默认的搜索框        //"sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span12'i><'span12 center'p>>",        "sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span12'i><'span12 center'p>>",        //"sPaginationType": "bootstrap",        "iDisplayLength": 10,        "bServerSide": true,    	"oLanguage": {            "sUrl": "/eeda/dataTables.ch.txt"        },        "sAjaxSource": "/yh/departOrder/list",        "aoColumns": [               {"mDataProp":null,            	"fnRender": function(obj) {            		 return "<a class='' href='/yh/departOrder/add/"+obj.aData.ID+"'>"+                     obj.aData.DEPART_NO +                 "</a>";            		}            },            {"mDataProp":"STATUS",                "fnRender": function(obj) {                    return obj.aData.STATUS+"<a id='edit_status' depart_id="+obj.aData.ID+" data-target='#transferOrderMilestone' data-toggle='modal'><i class='fa fa-pencil fa-fw'></i></a>";                }            },            {"mDataProp":"CONTACT_PERSON"},            {"mDataProp":"PHONE"},            {"mDataProp":"CAR_NO"},            {"mDataProp":"CAR_TYPE"},                 {"mDataProp":"CREATE_STAMP"},            {"mDataProp":"TRANSFER_ORDER_NO"}        ]      });	        $("#eeda-table").on('click', '#edit_status', function(e){    	e.preventDefault();	    	var depart_id=$(this).attr("depart_id");    	$("#milestoneDepartId").val(depart_id);    	    });        // 保存新里程碑	$("#transferOrderMilestoneFormBtn").click(function(){		$.post('/yh/departOrder/saveTransferOrderMilestone',$("#transferOrderMilestoneForm").serialize(),function(data){			detailTable.fnSettings().sAjaxSource = "/yh/departOrder/list";			detailTable.fnDraw();  		},'json');		$('#transferOrderMilestone').modal('hide');	}); 	    $('#orderNo_filter').on( 'keyup', function () {    	var orderNo = $("#orderNo_filter").val();        /*detailTable.fnFilter(orderNo, 0, false, true);        detailTable.fnDraw();*/    	var status = $("#status_filter").val();    	var address = $("#address_filter").val();    	var customer = $("#customer_filter").val();    	var sp = $("#sp_filter").val();    	var beginTime = $("#beginTime_filter").val();    	var endTime = $("#endTime_filter").val();    	var officeName = $("#officeName_filter").val();    	detailTable.fnSettings().sAjaxSource = "/yh/departOrder/list?orderNo="+orderNo+"&status="+status+"&address="+address+"&customer="+customer+"&sp="+sp+"&beginTime="+beginTime+"&endTime="+endTime+"&officeName="+officeName;    	detailTable.fnDraw();     } );     $('input.status_filter').on( 'keyup click', function () {    	var orderNo = $("#orderNo_filter").val();    	var status = $("#status_filter").val();    	var address = $("#address_filter").val();    	var customer = $("#customer_filter").val();    	var sp = $("#sp_filter").val();    	var beginTime = $("#beginTime_filter").val();    	var endTime = $("#endTime_filter").val();    	var officeName = $("#officeName_filter").val();    	detailTable.fnSettings().sAjaxSource = "/yh/departOrder/list?orderNo="+orderNo+"&status="+status+"&address="+address+"&customer="+customer+"&sp="+sp+"&beginTime="+beginTime+"&endTime="+endTime+"&officeName="+officeName;    	detailTable.fnDraw();    } );        $('input.address_filter').on( 'keyup click', function () {    	var orderNo = $("#orderNo_filter").val();    	var status = $("#status_filter").val();    	var address = $("#address_filter").val();    	var customer = $("#customer_filter").val();    	var sp = $("#sp_filter").val();    	var beginTime = $("#beginTime_filter").val();    	var endTime = $("#endTime_filter").val();    	var officeName = $("#officeName_filter").val();    	detailTable.fnSettings().sAjaxSource = "/yh/departOrder/list?orderNo="+orderNo+"&status="+status+"&address="+address+"&customer="+customer+"&sp="+sp+"&beginTime="+beginTime+"&endTime="+endTime+"&officeName="+officeName;    	detailTable.fnDraw();    } );        $('input.customer_filter').on( 'keyup click', function () {    	var orderNo = $("#orderNo_filter").val();    	var status = $("#status_filter").val();    	var address = $("#address_filter").val();    	var customer = $("#customer_filter").val();    	var sp = $("#sp_filter").val();    	var beginTime = $("#beginTime_filter").val();    	var endTime = $("#endTime_filter").val();    	var officeName = $("#officeName_filter").val();    	detailTable.fnSettings().sAjaxSource = "/yh/departOrder/list?orderNo="+orderNo+"&status="+status+"&address="+address+"&customer="+customer+"&sp="+sp+"&beginTime="+beginTime+"&endTime="+endTime+"&officeName="+officeName;    	detailTable.fnDraw();    } );        $('input.sp_filter').on( 'keyup click', function () {    	var orderNo = $("#orderNo_filter").val();    	var status = $("#status_filter").val();    	var address = $("#address_filter").val();    	var customer = $("#customer_filter").val();    	var sp = $("#sp_filter").val();    	var beginTime = $("#beginTime_filter").val();    	var endTime = $("#endTime_filter").val();    	var officeName = $("#officeName_filter").val();    	detailTable.fnSettings().sAjaxSource = "/yh/departOrder/list?orderNo="+orderNo+"&status="+status+"&address="+address+"&customer="+customer+"&sp="+sp+"&beginTime="+beginTime+"&endTime="+endTime+"&officeName="+officeName;    	detailTable.fnDraw();    } );        $('input.beginTime_filter').on( 'change input', function () {    	var orderNo = $("#orderNo_filter").val();    	var status = $("#status_filter").val();    	var address = $("#address_filter").val();    	var customer = $("#customer_filter").val();    	var sp = $("#sp_filter").val();    	var beginTime = $("#beginTime_filter").val();    	var endTime = $("#endTime_filter").val();    	var officeName = $("#officeName_filter").val();    	detailTable.fnSettings().sAjaxSource = "/yh/departOrder/list?orderNo="+orderNo+"&status="+status+"&address="+address+"&customer="+customer+"&sp="+sp+"&beginTime="+beginTime+"&endTime="+endTime+"&officeName="+officeName;    	detailTable.fnDraw();    } );        $('#beginTime_filter').on('keyup', function () {    	var orderNo = $("#orderNo_filter").val();    	var status = $("#status_filter").val();    	var address = $("#address_filter").val();    	var customer = $("#customer_filter").val();    	var sp = $("#sp_filter").val();    	var beginTime = $("#beginTime_filter").val();    	var endTime = $("#endTime_filter").val();    	var officeName = $("#officeName_filter").val();    	detailTable.fnSettings().sAjaxSource = "/yh/departOrder/list?orderNo="+orderNo+"&status="+status+"&address="+address+"&customer="+customer+"&sp="+sp+"&beginTime="+beginTime+"&endTime="+endTime+"&officeName="+officeName;    	detailTable.fnDraw();    } );            $('#endTime_filter').on( 'keyup click', function () {    	var orderNo = $("#orderNo_filter").val();    	var status = $("#status_filter").val();    	var address = $("#address_filter").val();    	var customer = $("#customer_filter").val();    	var sp = $("#sp_filter").val();    	var beginTime = $("#beginTime_filter").val();    	var endTime = $("#endTime_filter").val();    	var officeName = $("#officeName_filter").val();    	detailTable.fnSettings().sAjaxSource = "/yh/departOrder/list?orderNo="+orderNo+"&status="+status+"&address="+address+"&customer="+customer+"&sp="+sp+"&beginTime="+beginTime+"&endTime="+endTime+"&officeName="+officeName;    	detailTable.fnDraw();    } );	    $('#datetimepicker').datetimepicker({          format: 'yyyy-MM-dd',          language: 'zh-CN'    }).on('changeDate', function(ev){        $('#beginTime_filter').trigger('keyup');    });    $('#datetimepicker2').datetimepicker({          format: 'yyyy-MM-dd',          language: 'zh-CN',         autoclose: true,        pickerPosition: "bottom-left"    }).on('changeDate', function(ev){        $('#endTime_filter').trigger('keyup');    });} );