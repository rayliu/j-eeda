<%layout("/yh/layout.html"){%>

	<div id="page-wrapper">
		<div class="row">
             <div class="col-lg-12">
              	<div class="btn-header">
              		<div class="btn-header" style="font-size: 32px">车辆信息</div>
				</div>
                 <div class="panel panel-default">
                   <!-- <div class="panel-heading">
                 		车辆信息
            		</div> -->
            		<div class="panel-body">
            			<div class="row-fluid">
            				<form lass="form-horizontal" id='leadsForm' name="leadsForm" action="/carinfo/save" method="post">
						<input id="carId" name="carId" type="hidden" value="${lu.id!''}">
					<div class="col-lg-6">
							<div class="form-group">
			                 <label class="control-label">车型</label>
			                 <select class="form-control" id="ctype" name="ctype">
                                  <option>全部</option>
                                  <option>平板车</option>
                                  <option>面包车</option>
                                  <option>开顶尾板车</option>
                                  <option>高栏车</option>
                                  <option>集装车</option>
                                  <option>单桥车</option>
                                  <option>双桥车</option>
                                  <option>半挂车</option>
                                  <option>冷藏车</option>
                                  <option>特种车</option>
                                  <option>商品运输车</option>
                                  <option>危险品车</option>
                                  <option>挂车</option>
                                  <option>爬梯车</option>
                                  <option>可拼车</option>
                                  <option>低栏车</option>
                                  <option>半挂一拖二</option>
                                  <option>半挂一拖三</option>
                                  <option>半挂二拖二</option>
                                  <option>半挂二拖三</option>
                                  <option>前四后四</option>
                                  <option>前四后六</option>
                                  <option>前四后八</option>
                                  <option>前四后十</option>
                                  <option>五轮车</option>
                                  <option>后八轮</option>
                                  <option>半封闭</option>
                                  <option>封闭车</option>
                                  <option>罐式车</option>
                                  <option>厢式车</option>
                                  <option>自卸车</option>
                                  <option>棉被车</option>
                                  <option>厢式尾板车</option>
                                  <option>其他</option>
                              </select>
			             	</div>
							 <div class="form-group ">
			                 <label class="control-label">司机</label>
			                 <input id="driver" name="driver" type="text" class="form-control" value="${lu.driver!''}">
			             	</div>
			             	<div class="form-group ">
			                 <label class="control-label">司机电话</label>
			                 <input type="text" class="form-control" id="phone" name="phone" value="${lu.phone!''}">
			            	 </div>
			            	 <div class="form-group ">
				                 <label class="control-label">额定载重</label>
				                 <input type="text" class="form-control" name="rated_load" value="${lu.rated_load!''}">
				             </div>
				             <div class="form-group ">
				                 <label class="control-label">初始里程</label>
				                 <input type="text" class="form-control" name="initial_mileage" value="${lu.initial_mileage!''}">
				             </div>
			           </div>
			           <div class="col-lg-6">
			             <div class="form-group ">
			                 <label class="control-label">车长</label>
			                 <select class="form-control" id="length" name="length" >
                                  <option>21.0</option>
                                  <option>18.5</option>
                                  <option>18.0</option>
                                  <option>17.8</option>
                                  <option>17.5</option>
                                  <option>17.0</option>
                                  <option>16.0</option>
                                  <option>15.0</option>
                                  <option>14.5</option>
                                  <option>13.5</option>
                                  <option>13.0</option>
                                  <option>12.5</option>
                                  <option>10.5</option>
                                  <option>9.6</option>
                                  <option>8.6</option>
                                  <option>8.0</option>
                                  <option>7.6</option>
                                  <option>7.2</option>
                                  <option>6.8</option>
                                  <option>6.5</option>
                                  <option>5.3</option>
                                  <option>4.3</option>
                                  <option>4.2</option>
                                  <option>2.6</option>
                              </select>
			             </div>
			             <div class="form-group ">
			                 <label class="control-label">车牌</label>
			                 <input type="text" class="form-control" id="car_number" name="car_number" value="${lu.car_number!''}">
			             </div>
			             <div class="form-group ">
			                 <label class="control-label">百公里标准油耗</label>
			                 <input type="text" class="form-control" id="hundred_fuel_standard" name="hundred_fuel_standard" value="${lu.hundred_fuel_standard!''}">
			             </div>
			             <div class="form-group ">
			                 <label class="control-label">额定方数</label>
			                 <input type="text" class="form-control" name="rated_cube" value="${lu.rated_cube!''}">
			             </div>
			             <div class="form-group ">
			                 <label class="control-label">所属公司</label>
			                 <input type="hidden" class="form-control" id="hideOfficeId" name="hideOfficeId" value="${lu.office_id!''}">
			                 <select id="officeSelect" class="form-control" name="officeSelect"></select>
			             </div>
			            </div>
			           
			            
			            </div>
			            <div class="col-lg-7">
			             	<button type="submit" class="btn  btn-primary">保存</button>
				            <a class="btn  btn-primary" href="/carinfo">返回</a>
				        </div>
			         </form>
            			</div>
            		</div>
					
							
				</div>
			</div>
		</div>
	</div>
<%}%>
<!-- 引入校验的js 文件及其 中文 文件-->
<script src="/yh/js/jquery.validate.min.js"></script>
<script src="/yh/js/jvalidate.messages_cn.js"></script>
<script>
	var length ='${lu.length!''}'
	$("#length").val(length);
	
	var ctype ='${lu.cartype!''}'
		$("#ctype").val(ctype);
	
	var car_no ='${lu.car_no!''}'
		$("#car_number").val(car_no);
	$(document).ready(function() {
		if(car_no){
			document.title = car_no +' | '+document.title;
		}
		jQuery.validator.addMethod("stringCheck", function(value, element) {
			return this.optional(element) || /^[u0391-uFFE5w]+$/.test(value);
			}, "只能包括中文字、英文字母、数字和下划线");

    $('#menu_carmanage').addClass('active').find('ul').addClass('in');
        $('#leadsForm').validate({
            rules: {
            	username: {
                required: true,
                stringCheck:true,
                minlength: 5
				},
              password:{//form 中 name为必填
                required: true,
                minlength: 5
              },
              confirm_password: { 
            	  required: true, 
            	  minlength: 5, 
            	  equalTo: "#password" 
            	  } 
             },
            highlight: function(element) {
                $(element).closest('.form-group').removeClass('has-success').addClass('has-error');
            },
            success: function(element) {
                element.addClass('valid').closest('.form-group').removeClass('has-error').addClass('has-success');
            }
        });
    });
	
	// 获取所有公司
    $.post('/carinfo/searchOfficebyUser',function(data){
		 if(data.length > 0){
			 var officeSelect = $("#officeSelect");
			 officeSelect.empty();
			 var hideOfficeId = $("#hideOfficeId").val();
			 //officeSelect.append("<option class='form-control' value='' ></option>");
			 for(var i=0; i<data.length; i++){
				 if(data[i].ID == hideOfficeId){
					 officeSelect.append("<option class='form-control' value='"+data[i].ID+"' selected='selected'>"+data[i].OFFICE_NAME+"</option>");
				 }else{
					 if(data[i].IS_STOP != true){
						 officeSelect.append("<option class='form-control' value='"+data[i].ID+"'>"+data[i].OFFICE_NAME+"</option>");					  
					 }
					 
				 }
			 }
		 }
	 },'json');
	
	
	
</script>
