<%layout("/yh/layout.html"){%>
 

 <div id="page-wrapper">
    
    <div class="row">
        <div class="col-lg-12 panel-body">
           
            <h1 class="page-header">编辑角色对应权限</h1>
           
        </div>
        <!-- /.col-lg-12 -->
    </div>

    <div class="row">
                <div class="col-lg-12"> 
                    <div class="panel panel-default">
                       
                        <div class="panel-body">
                           
        <form id="UserRoleForm" name="form1" method="post" action="/yh/role/SaveRole"> 

 	
 	<div class="col-lg-8">
	<div class="form-group">
	<label >角色(必选)</label>
	<select class="form-control" id="role" name="role">
	<option></option>
	<option>1</option>
	<option>2</option>
	<option>3</option>
	<option>4</option>
	<option>5</option>
	</select>
	</div>
	</div>
	<div class="col-lg-8">
	<div class="form-group">
	<label>权限(必选)</label>
	<select class="form-control" id="privilege" name="privilege">
	<option></option>
	<option>1</option>
	<option>2</option>
	<option>3</option>
	<option>4</option>
	<option>5</option>
	</select>
	</div>
	</div>
	<div class="col-lg-8">
   <button  class="btn btn-default" type="submit">保存</button>
 	<a  class="btn btn-default" href="/yh/role"> 取消    </a> 
	</div>
           </form>
 
                   </div>
                     
                    </div>
                  
                </div>
               
            </div>
            
</div>
			
	

</div>


<!-- content ends -->
<%}%>
<!-- 引入校验的js 文件及其 中文 文件-->
<script src="/eeda/js/jquery.validate.min.js"></script>
<script src="/eeda/js/jvalidate.messages_cn.js"></script>
<script>
    $(document).ready(function() {
    	$("#privilege").click(function(){
    	       	//alert("waerwerwee");
    	       	var user =$("#privilege");
    	       	user.empty();
    	       	$.get('/yh/privilege/SelectUser?select=3',{},function(data){
 
    				for(var i = 0; i < data.length; i++)
    				{
    					user.append("<option>("+data[i].ID+")"+data[i].PRIVILEGE+"</option>");
    				}
    				
    			},'json');

    	 });
    	
    	$("#role").click(function(){
	       	//alert("waerwerwee");
	       	var user =$("#role");
	       	user.empty();
	       	$.get('/yh/privilege/SelectUser?select=2',{},function(data){

				for(var i = 0; i < data.length; i++)
				{
					user.append("<option>("+data[i].ID+")"+data[i].ROLE_NAME+"</option>");
				}
				
			},'json');

	 });
    	
        $('#RolePrivilegeForm').validate({
            rules: {
            	privilege: {//form 中company_name为必填, 注意input 中定义的id, name都要为company_name
                required: true
              },
              role:{//form 中 name为必填
                required: true
              }
            },
            highlight: function(element) {
                $(element).closest('.form-group').removeClass('has-success').addClass('has-error');
            },
            success: function(element) {
                element.addClass('valid').closest('.form-group').removeClass('has-error').addClass('has-success');
            }
        });
    });
</script>

 