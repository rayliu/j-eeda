<%layout("/yh/layout.html"){%>
 <link href="/yh/js/plugins/sco/css/sco.message.css" rel="stylesheet">  
 <link rel="stylesheet" href="/yh/css/ui/jquery-ui.css">
 <div id="page-wrapper">
    
    <div class="row">
        <div class="col-lg-12 panel-body">
        	<!-- 不清楚有何用 -->
           <!--  <% if(saveOK!''==true){%>
            <div class="alert alert-success alert-dismissable">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
               		 保存成功。
            </div>
            <%}%> -->
            <div class="btn-header"style="font-size: 32px">创建新供应商</div>
           
        </div>
        <!-- /.col-lg-12 -->
    </div>

    <div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            	供应商基本信息
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <form id="customerForm" role="form"  method="post">
                                    <input id="partyId" name="party_id" type="hidden" value="${party.id!''}">
                                    <!-- /.col-lg-6 (odd) 奇数列 -->
									<div class="col-lg-6">
                                            <div class="form-group">
                                                <label>公司名称(必填)</label>
                                                <input placeholder="" class="form-control" id="company_name" name="company_name" type="text" value="${contact.company_name!''}">
                                            </div> 

                                            <div class="form-group">
                                                <label>简称(必填)</label>
                                                <input class="form-control" id="abbr" type="text" name="abbr" value="${contact.abbr!''}">
                                            </div>

                                            <div class="form-group">
                                                <label>供应商类型</label>
                                            	<select class="form-control" id="sp_type" name="sp_type" style="display: none;">
	                                            	<option value="line">干线运输供应商</option>
	                                            	<option value="delivery">配送供应商</option>
	                                            	<option value="pickup">提货供应商</option>
	                                            	<option value="personal">个体供应商</option>
                                            	</select>
                                                <div class="checkbox">
                                                    <label>
                                                        <input id="sp_type_line" name="sp_type_line" type="checkbox" value="line" style="margin-top: 0px;">干线运输供应商
                                                    </label>
                                                </div>
                                                <div class="checkbox">
                                                    <label>
                                                        <input id="sp_type_delivery" name="sp_type_delivery" type="checkbox" value="delivery" style="margin-top: 0px;">配送供应商
                                                    </label>
                                                </div>
                                                <div class="checkbox">
                                                    <label>
                                                        <input id="sp_type_pickup" name="sp_type_pickup" type="checkbox" value="pickup" style="margin-top: 0px;">提货供应商
                                                    </label>
                                                </div>
                                                <div class="checkbox">
                                                    <label>
                                                        <input id="sp_type_personal" name="sp_type_personal" type="checkbox" value="personal" style="margin-top: 0px;">个体供应商
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label>付款方式</label>
	                                           	<select class="form-control" id="payment" name="payment">
	                                           		<option value="monthlyStatement">月结</option>
	                                           		<option value="freightCollect">到付</option>
	                                           		<option value="cashPayment">现付</option>
	                                           	</select>
                                            </div>
                                            
                                            <div class="form-group">
                                                <label>收款人</label>
                                                <input class="form-control" id="receiver" type="text" name="receiver" value="${contact.receiver!''}">
                                            </div>
                                            
                                            <div class="form-group">
                                                <label>银行账号</label>
                                                <input class="form-control" id="bank_no" type="text" name="bank_no" value="${contact.bank_no!''}">
                                            </div>
                                            
                                            <div class="form-group">
                                                <label>开户行</label>
                                                <input class="form-control" id="bank_name" type="text" name="bank_name" value="${contact.bank_name!''}">
                                            </div>

                                            <div class="form-group">
                                                <label>计费方式</label>
	                                         	<input type="hidden" value="${party.charge_type!''}" id="chargeTypeSelect">
	                                           	<select class="form-control" id="chargeType" name="chargeType">
	                                           		<option value="perUnit">计件</option>
	                                           		<option value="perCar">整车</option>
	                                           		<option value="perCargo">零担</option>
	                                           	</select>
                                            </div>
                                            <div class="form-group">
                                         	<label>供应商所在地</label>
                                                <input id="location" type="hidden" name="location" value="${contact.location!''}">
		                                            <div class="form-group">
		                                                <label>省</label>
		                                                <input id="hideProvince" type="hidden" value="${location.province!''}"/>
		                                                <select id="mbProvince" style="width:150px" name="mbProvince" value=""></select>
		                                                <label>市</label>
		                                                <input id="hideCity" type="hidden" value="${location.city!''}"/>
		                                                <select  id="cmbCity" style="width:150px" name="cmbCity" value=""></select>
		                                                <label>区(县)</label>
		                                                <input id="hideDistrict" type="hidden" value="${location.district!''}"/>
		                                                <select  id="cmbArea" style="width:150px" name="cmbArea" value=""></select>
		                                            </div>
                                       </div>
                                            
  											<div class="form-group">
                                                <label>备注</label>
												<textarea class="form-control" rows="3" name="remark">${party.remark!''}</textarea>
                                            </div>
                                            
                                        </div>
										<div class="col-lg-6">
											<div class="form-group">
                                                <label>联系人(必填)</label>
                                                <input placeholder="" class="form-control" id="contact_person" type="text" name="contact_person" value="${contact.contact_person!''}">
                                            </div>
                                            <div class="form-group">
                                                <label>联系地址</label>
                                                <input placeholder="" class="form-control" id="address" type="text" name="address" value="${contact.address!''}">
                                            </div> 

                                            <div class="form-group">
                                                <label>联系人电话</label>
                                                <input placeholder="" class="form-control" id="disabledInput" type="text" name="phone" value="${contact.phone!''}">
                                            </div>

                                            <div class="form-group">
                                                <label>email</label>
                                                <input placeholder="" class="form-control" id="email" type="text" name="email" value="${contact.email!''}">
                                            </div>

                                            <div class="form-group">
                                                <label>邮政编码</label>
                                                <input placeholder="" class="form-control" id="postal_code" type="text" name="postal_code" value="${contact.postal_code!''}">
                                            </div>

                                            <div class="form-group">
                                                <label>付款单位</label>
                                                <input class="form-control" id="receipt" type="text" name="receipt" value="${party.receipt!''}">
                                            </div>
                                            

                                            <div class="form-group">
                                                <label>公司简介</label>
												<textarea class="form-control" rows="3" name="introduction">${contact.introduction!''}</textarea>
                                            </div>
                                       </div>
									</form>
                                    <div class="col-lg-6" style="clear:both;">
                                        <button id="save" type="button" class="btn  btn-primary">保存</button>
                                        <a class="btn  btn-primary" href="/serviceProvider">返回</a>
                                    </div>

                            </div>
                            <!-- /.row (nested) -->
                            <hr>
							<div class="tab-content">
			            	 	<div class="tab-pane fade active in" id="basic">
                             	 	<div class="table-responsive">
                             	 		<button type="button" id = "addChargeType" class="btn btn-primary" data-toggle="modal" data-target="#chargeTypeItemModel" data-whatever="@fat" disabled = 'true'>添加客户计费</button>
								 		<div class="form-group"></div>
	                           	 		<table class="table table-striped table-bordered table-hover" id="item_table" style="width: 1208spx;">
		                                    <thead>
		                                        <tr>
		                                        	<th>客户名称</th>
	                                                <th>计费方式</th>
		                                            <th>备注</th>
		                                            <th></th>
		                                        </tr>
		                                    </thead>
		                                    <tbody>
		                                        <tr>
		                                            
		                                        </tr>
		                                    </tbody>
	                               		 </table>
	                            	</div>
			            	 	</div>
			            	</div>
			            	<div class="modal fade" id="chargeTypeItemModel" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
							  <div class="modal-dialog">
							    <div class="modal-content">
							      <div class="modal-header">
							        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							        <h4 class="modal-title" id="exampleModalLabel">客户计费</h4>
							      </div>
							      <div class="modal-body">
							        <form id="itemFrom"  action="" method="post">
   								      	<input id="chargeTypeItemId" type="hidden" name="chargeTypeItemId"/>
   								      	<input id="sp_id" name="sp_id" type="hidden" value="${party.id!''}">
   								      	<div class="form-group ">
	 										<label class="control-label">客户名称</label> 
	 										<input id="customer_id" type="hidden" name="customer_id" />
	 										<input id="customer_name" autocomplete="off" name="customer_name" class="form-control" name="customerMessage" placeholder="请选择客户">
						                  	<ul id='customerList' class="pull-right dropdown-menu default dropdown-scroll" tabindex="-1" style="top: 17%; left: 2%;"></ul> 
	   									</div>
										<div class="form-group ">
											<label class="control-label" for="inputSuccess">计费方式</label> 
											<select class="form-control" id="c_type" name="c_type">
                                           		<option value="perUnit">计件</option>
                                           		<option value="perCar">整车</option>
                                           		<option value="perCargo">零担</option>
                                          	</select>
										</div>
										<div class="form-group ">
											<label class="control-label" for="inputSuccess">备注</label> 
											<textarea class="form-control" id='chargeTypeRemark' rows="3" name="chargeTypeRemark"></textarea>
										</div>
										
									</form>
							      </div>
							      <div class="modal-footer">
							        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
							        <button type="button" id="chargeTypeItemBtn" class="btn btn-primary">保存</button>
							      </div>
							    </div>
							  </div>
							</div>
                        </div>
                    </div>
                    <div>
                	<p>操作提示：</p>
                	<p>添加客户计费的时候，如果客户计费已经存在 ，则直接更新已存在客户计费</p>
                </div>
                </div>
                
            </div>
</div>
			
<%}%>
<!-- 引入校验的js 文件及其 中文 文件-->
<script src="/yh/js/plugins/dataTables/jquery.dataTables.js" type="text/javascript"></script>
<script src="/yh/js/plugins/dataTables/dataTables.bootstrap.js"></script>
<script src="/yh/js/plugins/dataTables/jquery.dataTables.editable.js" type="text/javascript"></script>
<script src="/yh/js/plugins/dataTables/jquery.jeditable.js" type="text/javascript"></script>
<script src="/yh/js/jquery.validate.min.js"></script>
<script src="/yh/js/jvalidate.messages_cn.js"></script>
<script src="/yh/js/plugins/sco/js/sco.message.js"></script>
<script src="/yh/css/ui/jquery-ui.js"></script>
<script>
	if('${contact.company_name!''}'){
		document.title = '${contact.company_name!''}'+' | '+document.title;
	}
	var province = '${location.province!''}';
	var city = '${location.city!''}';
	var district = '${location.district!''}';
	var spType = '${contact.sp_type!''}';
	var payment = '${party.payment!''}';
</script>
<script src="/yh/js/eeda-common.js"></script>
<script src="/yh/js/profile/serviceProvider/edit.js"></script>
