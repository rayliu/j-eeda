<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="payment" language="groovy" printOrder="Horizontal" pageWidth="595" pageHeight="421" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="3a229599-7a9a-404d-9301-b0c480fc4146">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<parameter name="order_no" class="java.lang.String"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
     aciao.id AS id,
     aciao.order_no AS order_no,
     ifnull(aciao.create_stamp,'') AS create_stamp,
     ifnull(o.abbr,ifnull(o.office_name,'')) as office_name,
     ifnull(cr.c_name,ifnull(cr.user_name,'')) as create_name,
     ifnull(cm.c_name,ifnull(cm.user_name,'')) as confirm_name,
     ifnull(al.c_name,ifnull(al.user_name,'')) as approval_name,
     ifnull(aciao.bank_name,'') as bank_name,
     ifnull(aciao.bank_no,'') as account_no,
     ifnull(aciao.num_name,'') as bank_person,
     IF(aciao.payment_method="transfers",'转账',IF(aciao.payment_method="cash",'现金','')) AS payment_method,
     ifnull(aciao.payee_name, '') AS payee_name,
    ifnull(aciao.payee_unit,'') as company_name,
    ifnull(aciao.billing_unit,'')as billing_unit
FROM
     arap_cost_invoice_application_order aciao
     left join user_login cr on cr.id = aciao.create_by
     left join user_login cm on cm.id = aciao.create_by
     left join user_login al on al.id = aciao.create_by
     left join office o on o.id = cr.office_id
     left join fin_account f on f.id = aciao.account_id
     left join contact j on j.id= aciao.payee_id
WHERE aciao.order_no = $P{order_no}]]>
	</queryString>
	<field name="id" class="java.lang.Long">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="order_no" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="create_stamp" class="java.sql.Timestamp">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="office_name" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="create_name" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="confirm_name" class="java.lang.String"/>
	<field name="approval_name" class="java.lang.String"/>
	<field name="bank_name" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="account_no" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="bank_person" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="payment_method" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="payee_name" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="company_name" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="billing_unit" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="58" splitType="Stretch">
			<line>
				<reportElement x="18" y="53" width="506" height="1" uuid="02de44d3-7e94-497e-b387-1f39c8ee3330"/>
			</line>
			<staticText>
				<reportElement x="348" y="17" width="67" height="17" uuid="5cb6366f-8f56-4c96-8c96-f726baa7adc3"/>
				<textElement textAlignment="Right" verticalAlignment="Top">
					<font fontName="宋体" size="10" isBold="true" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[打印日期：]]></text>
			</staticText>
			<staticText>
				<reportElement x="348" y="34" width="67" height="17" uuid="a125a084-519e-4003-8efb-d8cdf4ca865c"/>
				<textElement textAlignment="Right" verticalAlignment="Top">
					<font fontName="宋体" size="10" isBold="true" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[打印次数：]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="415" y="0" width="140" height="17" uuid="99a7d58e-6db8-4568-92ef-cdc4fcf2d802"/>
				<textElement textAlignment="Left" verticalAlignment="Top">
					<font fontName="宋体" size="10" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{order_no}]]></textFieldExpression>
			</textField>
			<textField pattern="yyyy-MM-dd" isBlankWhenNull="false">
				<reportElement x="415" y="17" width="140" height="17" uuid="f0d178b7-8b1f-4081-919f-89a29cf2ce93"/>
				<textElement verticalAlignment="Top">
					<font fontName="宋体" size="10" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[java.util.Calendar.getInstance().getTime()]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="415" y="34" width="140" height="17" uuid="9f30dc5c-1875-4418-86da-e670ccff36d2"/>
				<textElement verticalAlignment="Top">
					<font fontName="宋体" size="10" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="189" y="0" width="129" height="51" uuid="c036f7f5-965b-47d3-9415-8881f9f7781f"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="宋体" size="24" isBold="true" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[付款申请单]]></text>
			</staticText>
			<textField>
				<reportElement x="37" y="1" width="123" height="22" uuid="d4f6bbb7-4b5f-4005-bca3-da363dd1b665"/>
				<textElement verticalAlignment="Middle">
					<font fontName="宋体" size="10" isBold="true" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["广州源鸿控股有限公司"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="348" y="0" width="67" height="17" uuid="bd0f76e8-ee73-4afe-ba09-bf8a072d13ed"/>
				<textElement textAlignment="Right" verticalAlignment="Top">
					<font fontName="宋体" size="10" isBold="true" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[NO：]]></text>
			</staticText>
			<line>
				<reportElement mode="Transparent" x="18" y="55" width="506" height="1" uuid="4dfd17c4-da61-461f-a295-66fc5c32cf1d"/>
				<graphicElement>
					<pen lineStyle="Solid"/>
				</graphicElement>
			</line>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="111">
			<staticText>
				<reportElement stretchType="RelativeToBandHeight" x="8" y="22" width="82" height="20" uuid="c11589ad-8f7b-480b-a445-96b5d43138b1"/>
				<textElement verticalAlignment="Middle">
					<font fontName="宋体" size="12" isBold="true" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[ 付款方式:]]></text>
			</staticText>
			<staticText>
				<reportElement stretchType="RelativeToBandHeight" x="8" y="42" width="82" height="20" uuid="42b095c2-458d-4cd1-9d2e-468fa1579384"/>
				<textElement verticalAlignment="Middle">
					<font fontName="宋体" size="12" isBold="true" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[ 付款网点:]]></text>
			</staticText>
			<textField>
				<reportElement stretchType="RelativeToBandHeight" x="90" y="42" width="164" height="20" isPrintWhenDetailOverflows="true" uuid="c800687e-3f7e-49d6-9cc8-ed31a5946c21"/>
				<textElement verticalAlignment="Middle">
					<font fontName="宋体" size="10" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{office_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement stretchType="RelativeToBandHeight" x="90" y="22" width="164" height="20" isPrintWhenDetailOverflows="true" uuid="ed3dc8d9-8017-4d0b-896b-0eba3689ee78"/>
				<textElement verticalAlignment="Middle">
					<font fontName="宋体" size="10" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{payment_method}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" mode="Transparent" x="325" y="22" width="209" height="20" uuid="c23d70e3-50c4-44d2-a65c-ab308cf481f4">
					<printWhenExpression><![CDATA[new Boolean($F{payment_method}=="转账")]]></printWhenExpression>
				</reportElement>
				<box bottomPadding="5"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="宋体" size="10" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{bank_name}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement stretchType="RelativeToBandHeight" x="254" y="42" width="73" height="20" uuid="6392ad85-f5a9-4361-8589-10777d21d310"/>
				<textElement verticalAlignment="Middle">
					<font fontName="宋体" size="12" isBold="true" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[ 开票单位:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="325" y="42" width="209" height="20" isPrintWhenDetailOverflows="true" uuid="4684c4d1-9e37-4f9c-a25e-ab2d6594338c"/>
				<textElement verticalAlignment="Middle">
					<font fontName="宋体" size="10" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{billing_unit}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement stretchType="RelativeToBandHeight" x="254" y="22" width="73" height="20" uuid="fb89adae-ecd7-4549-a062-fde7ad81e855"/>
				<textElement verticalAlignment="Middle">
					<font fontName="宋体" size="12" isBold="true" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[ 开户行:]]></text>
			</staticText>
			<textField pattern="yyyy-MM-dd" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="90" y="0" width="164" height="21" isPrintWhenDetailOverflows="true" uuid="5dc570a4-904e-4cdb-8f82-67a57589deee"/>
				<textElement verticalAlignment="Middle">
					<font fontName="宋体" size="10" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{create_stamp}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement stretchType="RelativeToBandHeight" x="8" y="0" width="82" height="21" uuid="8d9a36fc-44a3-46e6-a963-e454d089a782"/>
				<textElement verticalAlignment="Middle">
					<font fontName="宋体" size="12" isBold="true" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[ 申请日期：]]></text>
			</staticText>
			<staticText>
				<reportElement stretchType="RelativeToBandHeight" x="254" y="0" width="73" height="21" uuid="1f0a2680-7085-4ed5-8afb-26f2e5a51c82"/>
				<textElement verticalAlignment="Middle">
					<font fontName="宋体" size="12" isBold="true" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[ 收款单位:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="325" y="0" width="209" height="21" isPrintWhenDetailOverflows="true" uuid="c91ed2f7-52aa-406f-a341-88f09f1199d5"/>
				<textElement verticalAlignment="Middle">
					<font fontName="宋体" size="10" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{company_name}]]></textFieldExpression>
			</textField>
			<frame>
				<reportElement stretchType="RelativeToBandHeight" x="8" y="21" width="526" height="21" isPrintWhenDetailOverflows="true" uuid="8caa66a5-633d-4fd1-ac49-e6cd23762ee2"/>
			</frame>
			<frame>
				<reportElement stretchType="RelativeToBandHeight" x="8" y="42" width="526" height="20" isPrintWhenDetailOverflows="true" uuid="00308f1b-e109-4d19-a11a-2e7e89146c79"/>
			</frame>
			<frame>
				<reportElement stretchType="RelativeToBandHeight" x="8" y="1" width="526" height="21" isPrintWhenDetailOverflows="true" uuid="00e761f7-6582-44ac-a566-48de2310dd81"/>
			</frame>
			<frame>
				<reportElement stretchType="RelativeToBandHeight" isPrintRepeatedValues="false" x="8" y="83" width="526" height="21" isPrintWhenDetailOverflows="true" uuid="c1cb341b-192f-40c0-89ca-eb2dda360c46"/>
				<staticText>
					<reportElement stretchType="RelativeToBandHeight" x="0" y="0" width="82" height="21" uuid="1e08a36a-1a48-48db-b439-84fd3baa99b9"/>
					<textElement verticalAlignment="Middle">
						<font fontName="宋体" size="12" isBold="true" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[ 账户名:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement stretchType="RelativeToBandHeight" isPrintRepeatedValues="false" x="82" y="0" width="165" height="21" isPrintWhenDetailOverflows="true" uuid="aa5c30c0-33a2-4c87-a9a6-66498d7acbeb">
						<printWhenExpression><![CDATA[new Boolean($F{payment_method}=="转账")]]></printWhenExpression>
					</reportElement>
					<textElement verticalAlignment="Middle">
						<font fontName="宋体" size="10" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{bank_person}]]></textFieldExpression>
				</textField>
			</frame>
			<staticText>
				<reportElement positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="8" y="62" width="82" height="21" uuid="c8892969-7863-40d1-8774-0730d1b84c94"/>
				<textElement verticalAlignment="Middle">
					<font fontName="宋体" size="12" isBold="true" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<text><![CDATA[ 收款人:]]></text>
			</staticText>
			<frame>
				<reportElement stretchType="RelativeToBandHeight" x="8" y="62" width="526" height="21" isPrintWhenDetailOverflows="true" uuid="175bd98b-9d71-4ed4-ab1a-6f5c1905c1ac"/>
				<textField isStretchWithOverflow="true">
					<reportElement stretchType="RelativeToBandHeight" x="82" y="0" width="165" height="21" isPrintWhenDetailOverflows="true" uuid="292954d0-28e6-4db5-859b-98230c5a9a03"/>
					<textElement verticalAlignment="Middle">
						<font fontName="宋体" size="10" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{payee_name}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement stretchType="RelativeToBandHeight" x="246" y="0" width="73" height="21" uuid="2ab07400-74fb-43ed-9ae1-d211586d5f31"/>
					<textElement verticalAlignment="Middle">
						<font fontName="宋体" size="12" isBold="true" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
					</textElement>
					<text><![CDATA[ 转账账号:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement stretchType="RelativeToBandHeight" x="317" y="0" width="209" height="21" isPrintWhenDetailOverflows="true" uuid="2e29fc78-1cce-4da0-be21-4a4f2eaa1e39">
						<printWhenExpression><![CDATA[new Boolean($F{payment_method}=="转账")]]></printWhenExpression>
					</reportElement>
					<box bottomPadding="5"/>
					<textElement verticalAlignment="Middle">
						<font fontName="宋体" size="10" isBold="false" pdfFontName="STSong-Light" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{account_no}]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</columnHeader>
	<detail>
		<band height="212" splitType="Stretch">
			<subreport>
				<reportElement stretchType="RelativeToTallestObject" isPrintRepeatedValues="false" x="16" y="5" width="506" height="200" isPrintWhenDetailOverflows="true" uuid="9eaf7fea-ed53-46f6-8b84-8521776237de"/>
				<subreportParameter name="approval_name">
					<subreportParameterExpression><![CDATA[$F{approval_name}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="create_name">
					<subreportParameterExpression><![CDATA[$F{create_name}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="order_id">
					<subreportParameterExpression><![CDATA[$F{id}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="confirm_name">
					<subreportParameterExpression><![CDATA[$F{confirm_name}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "payment_subreport_item.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
